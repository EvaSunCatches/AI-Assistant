<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>üß† OCR –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä (AI Educational Assistant)</title>
<style>
body{font-family:system-ui,Arial,sans-serif;background:#f7f9fc;margin:2rem;}
h1{color:#2a4d8f;text-align:center;}
.container{max-width:700px;margin:auto;background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 12px rgba(0,0,0,.1);}
input,button{margin-top:1rem;width:100%;padding:.6rem;font-size:1rem;}
button{cursor:pointer;border:none;border-radius:.5rem;background:#2a4d8f;color:#fff;}
button:hover{background:#1e3670;}
pre{background:#eef2f7;padding:1rem;border-radius:.5rem;white-space:pre-wrap;word-wrap:break-word;}
</style>
</head>
<body>
<div class="container">
<h1>üß† OCR –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä (AI Educational Assistant)</h1>
<input type="file" id="fileInput" accept="image/*">
<button id="analyzeBtn">–†–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏</button>
<button id="clearBtn" style="background:#c43d3d;margin-top:.5rem;">üßπ –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
<pre id="output"></pre>
</div>
<script>
const fileInput=document.getElementById("fileInput");
const analyzeBtn=document.getElementById("analyzeBtn");
const clearBtn=document.getElementById("clearBtn");
const output=document.getElementById("output");

analyzeBtn.onclick=async()=>{
  const file=fileInput.files[0];
  if(!file){alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª!");return;}
  const formData=new FormData();formData.append("file",file);
  output.textContent="‚è≥ –û–±—Ä–æ–±–∫–∞...";
  const res=await fetch("/api/vision",{method:"POST",body:formData});
  output.textContent=JSON.stringify(await res.json(),null,2);
};

clearBtn.onclick=async()=>{
  if(!confirm("–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ OCR?"))return;
  const res=await fetch("/api/cleanup",{method:"POST"});
  output.textContent=JSON.stringify(await res.json(),null,2);
};
</script>
</body>
</html>